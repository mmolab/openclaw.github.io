---
import BaseLayout from './BaseLayout.astro';
import Header from '@/components/layout/Header.astro';
import Footer from '@/components/layout/Footer.astro';

const { title, description } = Astro.props;
const lang = Astro.url.searchParams.get('lang') || 'en';

// Táº¡o danh sÃ¡ch menu Ä‘á»™ng theo ngÃ´n ngá»¯
const nav = [
  { label: lang === 'en' ? 'Articles' : 'BÃ i viáº¿t', href: `/blog?lang=${lang}` },
  { label: lang === 'en' ? 'About' : 'Giá»›i thiá»‡u', href: `/about?lang=${lang}` },
  { label: lang === 'en' ? 'Contact' : 'LiÃªn há»‡', href: `/contact?lang=${lang}` },
];
---

<BaseLayout title={title} description={description}>
  <Header
    slot="header"
    position="fixed"
    size="md"
    nav={nav}
    showCta={false}
    actions={[
      {
        icon: 'globe',
        href: lang === 'en' ? '/?lang=vi' : '/?lang=en',
        label: lang === 'en' ? 'Tiáº¿ng Viá»‡t ðŸ‡»ðŸ‡³' : 'English ðŸ‡ºðŸ‡¸',
        iconOnly: false,
      },
    ]}
  />

  <main>
    <slot />
  </main>

  <Footer slot="footer" layout="simple" background="secondary" showCopyright={true} />
</BaseLayout>
